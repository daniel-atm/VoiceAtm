(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{205:function(e,t,n){e.exports=n(366)},210:function(e,t,n){},212:function(e,t,n){},214:function(e,t,n){},218:function(e,t,n){},366:function(e,t,n){"use strict";n.r(t);var r=n(122),a=n(0),s=n.n(a),i=n(27),o=n.n(i),c=n(367),u=(n(210),n(212),n(214),n(4)),l=n.n(u),h=n(7),p=n(9),m=n(10),d=n(18),b=n(17),f=n(19),y=(n(218),function(){function e(){Object(p.a)(this,e);var t=window.webkitSpeechRecognition||window.SpeechRecognition;this.speechSynthesis=window.speechSynthesis,this.speechSynthesis.rate=1;var n=new t;this.recognizing=!1,n.onstart=function(){this.recognizing=!0},n.onend=function(){this.recognizing=!1},n.onerror=function(e){this.recognizing=!1},this.recognition=n}return Object(m.a)(e,[{key:"say",value:function(e){var t=this;return new Promise(function(n,r){var a=new SpeechSynthesisUtterance(e);a.rate=.6,t.speechSynthesis.speak(a),a.addEventListener("end",n)})}},{key:"islistening",value:function(){return this.recognizing}},{key:"listen",value:function(){var e=this;return new Promise(function(t,n){if(e.islistening()){var r=window.webkitSpeechRecognition||window.SpeechRecognition;e.recognition.stop(),e.recognition=new r}e.recognition.addEventListener("result",function(e){this.recognizing=!0,console.log("All results",e.results);var n=e.results[0][0].transcript;console.log("Speech to text",n),e.results[0].isFinal&&t(n)}),e.recognition.addEventListener("error",function(e){this.recognizing=!1,console.log("Recognition error"),n("Error occured while recognizing speech")}),e.recognition.addEventListener("nomatch",function(){this.recognizing=!1,console.log("Error: sorry but I could not find a match"),n("Sorry but I could not find a match")}),e.recognition.addEventListener("end",function(){this.recognizing=!1,console.log("Error: sorry but I could not recognize your speech"),n("Sorry but I could not recognize your speech")});try{e.recognition.start()}catch(a){console.error(a)}console.log("Speach recognition server started")})}}]),e}()),v=n(8),g=n(1),w=n(368),x=n(16),k=n.n(x),j=n(22),O=n.n(j);function E(e){return new Promise(function(t,n){setTimeout(function(){t()},e)})}var T=function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=Object(d.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(a)))).password="",n.listenToPassword=Object(h.a)(l.a.mark(function e(){var t,r,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.robot,t.next,e.next=3,r.say("Please say your secret number");case 3:return e.prev=3,e.next=6,r.listen();case 6:a=e.sent,n.setPassword(a),E(500),n.submit(),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(3),e.next=16,r.say(e.t0);case 16:n.listenToPassword();case 17:case"end":return e.stop()}},e,this,[[3,12]])})),n.submit=function(){var e=Object(h.a)(l.a.mark(function e(t){var r,a,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.preventDefault(),r=n.props,a=r.robot,s=r.next,!n.password||4!=n.password.length){e.next=6;break}setTimeout(function(){s()},200),e.next=8;break;case 6:return e.next=8,a.say("You entered an invalid password");case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.setPassword=function(e){n.password=e},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.listenToPassword()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column",justifyItems:"center",justifyContent:"center",height:"100%"}},s.a.createElement("h1",{style:{color:"blue",textAlign:"center"}},"Please say your secret number"),s.a.createElement("form",{onSubmit:this.submit,style:{textAlign:"center"}},s.a.createElement(k.a,{margin:"normal",required:!0,fullWidth:!0,style:{border:"3px solid blue"}},s.a.createElement(O.a,{onChange:function(t){return e.setPassword(t.target.value)},type:"number",autoFocus:!0,value:this.password}))))}}]),t}(a.Component),A=Object(w.a)(Object(v.b)("robot")(Object(v.c)(Object(g.h)(T,{step:g.m,setStep:g.d,password:g.m,setPassword:g.d})))),C=n(55),S=n.n(C),P=n(12),_=function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=Object(d.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(a)))).password="",n.listenToTransactionType=Object(h.a)(l.a.mark(function e(){var t,r,a,s,i;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.robot,a=t.next,s=t.setType,e.next=3,r.say("Select a transaction");case 3:return e.prev=3,e.next=6,r.listen();case 6:if("withdrawal"!==(i=e.sent).toLowerCase()){e.next=12;break}s(i.toLowerCase()),a(),e.next=15;break;case 12:return e.next=14,r.say("Can't understand your option");case 14:setTimeout(n.listenToTransactionType,0);case 15:e.next=22;break;case 17:return e.prev=17,e.t0=e.catch(3),e.next=21,r.say(e.t0);case 21:n.listenToTransactionType();case 22:case"end":return e.stop()}},e,this,[[3,17]])})),n.buttonClick=function(e){var t=n.props,r=t.setType,a=t.next;r(e.target.textContent),a()},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.listenToTransactionType()}},{key:"render",value:function(){var e={display:"flex",justifyContent:"space-around"};return s.a.createElement("div",{style:{height:"100%"}},s.a.createElement("h1",{style:{color:"blue",textAlign:"center"}},"Select a transaction"),s.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"calc(100% - 100px)",justifyContent:"space-around"}},s.a.createElement("div",{style:e},s.a.createElement(P.a,{size:"large",variant:"contained",color:"primary",onClick:this.buttonClick},"Transfer"),s.a.createElement(P.a,{size:"large",variant:"contained",color:"primary",onClick:this.buttonClick},"Withdrawal")),s.a.createElement("div",{style:e},s.a.createElement(P.a,{size:"large",variant:"contained",color:"primary",onClick:this.buttonClick},"Balance"),s.a.createElement(P.a,{size:"large",variant:"contained",color:"primary",onClick:this.buttonClick},"Change Pin")),s.a.createElement("div",{style:e},s.a.createElement(P.a,{size:"large",variant:"contained",color:"primary",onClick:this.buttonClick,style:{visibility:"hidden"}},"Pay Bills"),s.a.createElement(P.a,{size:"large",variant:"contained",color:"primary",onClick:this.buttonClick},"Exit"))))}}]),t}(a.Component),N=Object(w.a)(Object(v.b)("robot")(Object(v.c)(Object(g.h)(_,{step:g.m,setStep:g.d,password:g.m,setPassword:g.d})))),U=function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=Object(d.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(a)))).password="",n.listenToAccountType=Object(h.a)(l.a.mark(function e(){var t,r,a,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.robot,a=t.next,e.next=3,r.say("Select your account type");case 3:return e.prev=3,e.next=6,r.listen();case 6:if(s=e.sent,!["current","savings"].includes(s.toLowerCase())){e.next=11;break}a(),e.next=13;break;case 11:return e.next=13,r.say("Can't understand your option");case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(3),e.next=19,r.say(e.t0);case 19:n.listenToAccountType();case 20:case"end":return e.stop()}},e,this,[[3,15]])})),n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.listenToAccountType()}},{key:"render",value:function(){var e=this.props,t=(e.robot,e.next);return s.a.createElement("div",{style:{height:"100%"}},s.a.createElement("h1",{style:{color:"blue",textAlign:"center"}},"Select your account type"),s.a.createElement("div",{style:{float:"right",marginRight:20}},s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(P.a,{size:"large",variant:"contained",color:"primary",onClick:t},"Current"),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(P.a,{size:"large",variant:"contained",color:"primary",onClick:t},"Savings")))}}]),t}(a.Component),D=Object(w.a)(Object(v.b)("robot")(Object(v.c)(Object(g.h)(U,{step:g.m,setStep:g.d,password:g.m,setPassword:g.d})))),I=function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=Object(d.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(a)))).amount="",n.setAmount=function(e){n.amount=e},n.listenToAmountToWithdraw=Object(h.a)(l.a.mark(function e(){var t,r,a,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.robot,a=t.next,t.setType,e.prev=1,e.next=4,r.say("Say the amount to withdraw");case 4:return e.next=6,r.listen();case 6:return s=e.sent,n.setAmount(s),e.next=10,E(1e3);case 10:a(),e.next=19;break;case 13:return e.prev=13,e.t0=e.catch(1),console.error(e.t0),e.next=18,r.say(e.t0);case 18:n.listenToAmountToWithdraw();case 19:case"end":return e.stop()}},e,this,[[1,13]])})),n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.listenToAmountToWithdraw()}},{key:"render",value:function(){var e=this,t=this.props,n=(t.robot,t.next);return s.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column",justifyItems:"center",justifyContent:"center",height:"100%"}},s.a.createElement("h1",{style:{color:"blue",textAlign:"center"}},"Enter Amount"),s.a.createElement("form",{onSubmit:n,style:{textAlign:"center"}},s.a.createElement(k.a,{margin:"normal",required:!0,fullWidth:!0,style:{border:"3px solid blue"}},s.a.createElement(O.a,{type:"number",name:"amount",autoFocus:!0,onChange:function(t){e.setAmount(t.target.value)},value:this.amount,required:!0}))))}}]),t}(a.Component),q=Object(w.a)(Object(v.b)("robot")(Object(v.c)(Object(g.h)(I,{amount:g.m,setAmount:g.d,password:g.m,setPassword:g.d})))),z=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(l.a.mark(function e(){var t,n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.robot,r=t.next,e.next=3,n.say("Please take your cash!");case 3:return e.next=5,E(200);case 5:r();case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props;e.robot,e.next;return s.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column",justifyItems:"center",justifyContent:"center",height:"100%"}},s.a.createElement("h1",{style:{color:"blue",textAlign:"center"}},"Please take your cash"),s.a.createElement("img",{src:"images/cash_out.jpg",alt:"CashOut",style:{width:"90%",height:"300px"}}))}}]),t}(a.Component),B=Object(w.a)(Object(v.b)("robot")(Object(v.c)(Object(g.h)(z,{})))),F=n(77),R=n.n(F),L=n(44),W=n.n(L),M=n(38),H=n.n(M),J=function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=Object(d.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(a)))).amount="",n.bank="",n.account_number="",n.setAmount=function(e){n.amount=e},n.setAccountNumber=function(e){n.account_number=e},n.setBank=function(e){console.log(e),n.bank=e},n.listenToAmountToTransfer=Object(h.a)(l.a.mark(function e(){var t,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.robot,t.next,t.setType,e.next=3,r.say("Please select recipient account number and bank name");case 3:case"end":return e.stop()}},e,this)})),n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.listenToAmountToTransfer()}},{key:"render",value:function(){var e=this,t=this.props,n=(t.robot,t.next);return s.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column",justifyItems:"center",justifyContent:"center",height:"100%"}},s.a.createElement("h1",{style:{color:"blue",textAlign:"center"}},"Please enter recipient account number"),s.a.createElement("form",{onSubmit:n,style:{textAlign:"center"}},s.a.createElement(k.a,{margin:"normal",required:!0,fullWidth:!0,style:{border:"3px solid blue"}},s.a.createElement(P.b,{htmlFor:"amount"},"Amount(#)"),s.a.createElement(O.a,{type:"number",id:"amount",name:"amount",autoFocus:!0,onChange:function(t){e.setAmount(t.target.value)},value:this.amount,required:!0})),s.a.createElement(k.a,{margin:"normal",required:!0,fullWidth:!0,style:{border:"3px solid blue"}},s.a.createElement(P.b,{htmlFor:"account_number"},"Account Number"),s.a.createElement(O.a,{type:"number",id:"account_number",name:"account_number",autoFocus:!0,onChange:function(t){e.setAccountNumber(t.target.value)},value:this.account_number,required:!0})),s.a.createElement(k.a,{margin:"normal",required:!0,fullWidth:!0,style:{border:"3px solid blue"}},s.a.createElement(P.b,{htmlFor:"bank-helper"},"Select Recipient Bank"),s.a.createElement(W.a,{required:!0,value:this.bank,onChange:function(t){e.setBank(t.target.value)},id:"bank-helper"},s.a.createElement(P.c,{value:"",disabled:!0,selected:!0},"Select Recipient Bank"),s.a.createElement(P.c,{value:"First Bank of Nigeria"},"First Bank of Nigeria"),s.a.createElement(P.c,{value:"Guarantee Trust Bank"},"Guarantee Trust Bank"),s.a.createElement(P.c,{value:"United Bank of Africa"},"United Bank of Africa"),s.a.createElement(P.c,{value:"Fidelity Bank"},"Fidelity Bank"),s.a.createElement(P.c,{value:"Heritage Bank"},"Heritage Bank"))),s.a.createElement(k.a,{margin:"normal",required:!0,fullWidth:!0},s.a.createElement(H.a,{type:"submit",size:"large",variant:"contained",color:"primary",disabled:!(this.bank&&this.amount)},"Submit"))))}}]),t}(a.Component),Y=Object(w.a)(Object(v.b)("robot")(Object(v.c)(Object(g.h)(J,{bank:g.m,amount:g.m,setAmount:g.d,setBank:g.d,account_number:g.m,setAccountNumber:g.d})))),G=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.robot;e.next;t.say("Please Take your card!"),t.say("Have a nice day!")}},{key:"render",value:function(){var e=this.props;e.robot,e.next;return s.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column",justifyItems:"center",justifyContent:"center",height:"100%"}},s.a.createElement("h1",{style:{color:"blue",textAlign:"center"}},"Please Take your card!"),s.a.createElement("h1",{style:{color:"blue",textAlign:"center"}},"Have a nice day!"))}}]),t}(a.Component),V=Object(w.a)(Object(v.b)("robot")(Object(v.c)(Object(g.h)(G,{})))),K=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(l.a.mark(function e(){var t,n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.robot,r=t.next,e.next=3,n.say("Your Account Balance is: 50,000 Naira");case 3:return e.next=5,E(200);case 5:r();case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props;e.robot,e.next;return s.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column",justifyItems:"center",justifyContent:"center",height:"100%"}},s.a.createElement("h1",{style:{color:"blue",textAlign:"center"}},"Your Account Balance is: #50,000"))}}]),t}(a.Component),Q=Object(w.a)(Object(v.b)("robot")(Object(v.c)(Object(g.h)(K,{})))),X=function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=Object(d.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(a)))).old_pin="",n.new_pin="",n.setOldPin=function(e){n.old_pin=e},n.setNewPin=function(e){n.new_pin=e},n.listenToAmountToTransfer=Object(h.a)(l.a.mark(function e(){var t,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.robot,t.next,t.setType,e.next=3,r.say("Please enter your old and new pin");case 3:case"end":return e.stop()}},e,this)})),n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.listenToAmountToTransfer()}},{key:"render",value:function(){var e=this,t=this.props,n=(t.robot,t.next);return s.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column",justifyItems:"center",justifyContent:"center",height:"100%"}},s.a.createElement("h1",{style:{color:"blue",textAlign:"center"}},"Please enter recipient account number"),s.a.createElement("form",{onSubmit:n,style:{textAlign:"center"}},s.a.createElement(k.a,{margin:"normal",required:!0,fullWidth:!0,style:{border:"3px solid blue"}},s.a.createElement(P.b,{htmlFor:"amount"},"Old Pin"),s.a.createElement(O.a,{type:"number",id:"amount",name:"amount",autoFocus:!0,onChange:function(t){e.setOldPin(t.target.value)},value:this.old_pin,required:!0})),s.a.createElement(k.a,{margin:"normal",required:!0,fullWidth:!0,style:{border:"3px solid blue"}},s.a.createElement(P.b,{htmlFor:"account_number"},"New Pin"),s.a.createElement(O.a,{type:"number",id:"account_number",name:"account_number",autoFocus:!0,onChange:function(t){e.setNewPin(t.target.value)},value:this.new_pin,required:!0})),s.a.createElement(k.a,{margin:"normal",required:!0,fullWidth:!0},s.a.createElement(H.a,{type:"submit",size:"large",variant:"contained",color:"primary",disabled:!(this.new_pin&&this.old_pin)},"Submit"))))}}]),t}(a.Component),Z=Object(w.a)(Object(v.b)("robot")(Object(v.c)(Object(g.h)(X,{old_pin:g.m,new_pin:g.m,setNewPin:g.d,setOldPin:g.d})))),$=function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=Object(d.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(a)))).step="",n.type=null,n.setStep=function(e){n.step=e},n.nextStep=function(e){n.setStep(n.step+1)},n.setType=function(e){n.type=e},n.showPincode=function(){n.setStep("pincode")},n.showSelectTransaction=Object(h.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.robot,e.next=3,t.say("Please wait while your transaction is processing: ");case 3:n.setStep("select_transaction");case 4:case"end":return e.stop()}},e,this)})),n.showSelectAccountType=function(){"exit"===n.type.toLowerCase()?n.setStep("have_nice_day"):n.setStep("select_account_type")},n.showTakeCash=function(){n.setStep("take_cash")},n.showHaveNiceDay=function(){n.setStep("have_nice_day")},n.nextAfterAccountType=function(){n.setStep(n.type.toLowerCase())},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.robot;document.body.click(),R.a.alert("Message","Click ok to continue",function(){t.say("Welcome"),e.showPincode()})}},{key:"render",value:function(){return console.log(this.step),s.a.createElement("div",{className:"atm"},s.a.createElement(S.a,{className:"screen"},"pincode"===this.step?s.a.createElement(A,{next:this.showSelectTransaction}):null,"select_transaction"===this.step?s.a.createElement(N,{next:this.showSelectAccountType,setType:this.setType}):null,"select_account_type"===this.step?s.a.createElement(D,{next:this.nextAfterAccountType}):null,"transfer"===this.step?s.a.createElement(Y,{next:this.showHaveNiceDay}):null,"withdrawal"===this.step?s.a.createElement(q,{next:this.showTakeCash}):null,"balance"===this.step?s.a.createElement(Q,{next:this.showHaveNiceDay}):null,"change pin"===this.step?s.a.createElement(Z,{next:this.showHaveNiceDay}):null,"take_cash"===this.step?s.a.createElement(B,{next:this.showHaveNiceDay}):null,"have_nice_day"===this.step?s.a.createElement(V,null):null))}}]),t}(a.Component),ee=Object(w.a)(Object(v.b)("robot")(Object(v.c)(Object(g.h)($,{step:g.m,setStep:g.d,password:g.m,setPassword:g.d})))),te=function(){function e(t){Object(p.a)(this,e),this.storage=t}return Object(m.a)(e,[{key:"getRaw",value:function(){var e=Object(h.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.storage.getItem(t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(h.a)(l.a.mark(function e(t,n){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t1=JSON,e.next=3,this.getRaw(t);case 3:if(e.t2=e.sent,e.t0=e.t1.parse.call(e.t1,e.t2),e.t0){e.next=7;break}e.t0=n;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"setRaw",value:function(){var e=Object(h.a)(l.a.mark(function e(t,n){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.storage.setItem(t,n));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){return this.setRaw(e,JSON.stringify(t))}},{key:"remove",value:function(){var e=Object(h.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.storage.removeItem(t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),ne=n(56),re=n.n(ne),ae=function(){function e(t){Object(p.a)(this,e),this.axios=t,this.axios.interceptors.response.use(function(e){return e.data},function(e){return console.log("Request error",e),e.response?Promise.reject(e.response):e.request?Promise.reject(e.request):Promise.reject(e)})}return Object(m.a)(e,[{key:"get",value:function(){var e;return(e=this.axios).get.apply(e,arguments)}},{key:"post",value:function(){var e;return(e=this.axios).post.apply(e,arguments)}},{key:"put",value:function(){var e;return(e=this.axios).put.apply(e,arguments)}},{key:"head",value:function(){var e;return(e=this.axios).head.apply(e,arguments)}},{key:"delete",value:function(){var e;return(e=this.axios).delete.apply(e,arguments)}},{key:"uploadFile",value:function(){var e=Object(h.a)(l.a.mark(function e(t,n,r){var a,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append(n,r),e.next=4,this.post(t,a);case 4:return s=e.sent,e.abrupt("return",{url:s.url,thumb:this.getThumbUrl(s.url)});case 6:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getThumbUrl",value:function(e){var t=e.split("/"),n=t.pop(),r=t.join("/");return"".concat(r,"/thumb_").concat(n)}}]),e}(),se=function(){function e(t,n,r){var a=this;Object(p.a)(this,e),this.username="",this.confirm_password="",this.password="",this.name="",this.email="",this.phoneNumber="",this.address="",this.accountType="",this.image=null,this.thumb=null,this.loading=!1,this.authenticated=!1,this.user=null,this.request=t,this.baseUrl=r,this.localStorage=n,this.localStorage.getRaw("username").then(function(e){console.log("Username is loaded",e),e&&a.setUsername(e)}),this.localStorage.get("user").then(function(e){e&&(a.setAuthenticated(!0),a.setUser(e))})}return Object(m.a)(e,[{key:"isAuthenticated",value:function(){var e=Object(h.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.authenticated){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,this.localStorage.get("user");case 4:if(!e.sent){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"saveUser",value:function(){var e=Object(h.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.localStorage.set("user",t);case 2:this.setUser(t);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"setImageUri",value:function(e){this.imageUri=e}},{key:"setAccountType",value:function(e){e&&(this.accountType=e)}},{key:"setUser",value:function(e){this.user=e}},{key:"setUsername",value:function(e){this.username=e}},{key:"setPassword",value:function(e){this.password=e}},{key:"setConfirmPassword",value:function(e){this.confirm_password=e}},{key:"setEmail",value:function(e){this.email=e}},{key:"setName",value:function(e){this.name=e}},{key:"setAddress",value:function(e){this.address=e}},{key:"setPhoneNumber",value:function(e){this.phoneNumber=e}},{key:"setLoading",value:function(e){this.loading=e}},{key:"setAuthenticated",value:function(e){this.authenticated=e}},{key:"uploadProfilePicture",value:function(){var e=Object(h.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request.uploadFile("".concat(this.baseUrl,"/files"),"file",this.imageUri);case 2:t=e.sent,this.image=t.url,this.thumb=t.thumb;case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"resetForm",value:function(){this.username="",this.password="",this.email="",this.name="",this.phoneNumber="",this.address="",this.accountType="",this.image=null,this.thumb=null,this.setImageUri(null)}},{key:"handleResponse",value:function(e){return this.setLoading(!1),e&&e.data&&e.data.message?Promise.reject(new Error(e.data.message)):(e.message,Promise.reject(e))}},{key:"handleAuthenticated",value:function(){var e=Object(h.a)(l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t.user).is_business=Number(n.is_business),n.is_customer=Number(n.is_customer),this.authenticated=!0,console.log("success logging in",n),e.next=7,this.localStorage.set("user",n);case 7:this.setUser(n),this.localStorage.setRaw("username",this.username),this.setLoading(!1);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(h.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setLoading(!0),console.log("Logging in to it"),e.abrupt("return",this.request.post(this.baseUrl+"/users/login",{username:this.username,password:this.password}).then(this.handleAuthenticated.bind(this)).catch(this.handleResponse));case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(h.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setLoading(!0),e.prev=1,e.next=4,this.uploadProfilePicture();case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),this.setLoading(!1),console.warn(e.t0),e.abrupt("return",Promise.reject("Error uploading profile image"));case 11:return e.next=13,this.request.post(this.baseUrl+"/users/register",{name:this.name,email:this.email,username:this.username,password:this.password,image:this.image,thumb:this.thumb}).catch(this.handleResponse);case 13:return t=e.sent,e.next=16,this.handleAuthenticated(t);case 16:return e.abrupt("return",t);case 17:case"end":return e.stop()}},e,this,[[1,6]])}));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){this.authenticated=!1,this.localStorage.remove("user")}},{key:"detailsValid",get:function(){return!Boolean(this.name&&this.email&&this.username&&this.password&&this.password===this.confirm_password)}},{key:"isBusinessAccount",get:function(){return!!this.user.is_business}},{key:"registrationComplete",get:function(){return!(this.user.is_business&&!this.user.business)}}]),e}(),ie=Object(g.h)(se,{username:g.m,password:g.m,confirm_password:g.m,setConfirmPassword:g.d,name:g.m,email:g.m,phoneNumber:g.m,address:g.m,accountType:g.m,imageUri:g.m,loading:g.m,authenticated:g.m,user:g.m,setImageUri:g.d,setAccountType:g.d,setUser:g.d,setUsername:g.d,setPassword:g.d,setEmail:g.d,setName:g.d,setAddress:g.d,setPhoneNumber:g.d,setLoading:g.d,setAuthenticated:g.d,detailsValid:g.e,registrationComplete:g.e,resetForm:g.d,handleResponse:g.d.bound,handleAuthenticated:g.d.bound,login:g.d,logout:g.d});Object(g.f)({enforceActions:!0});var oe=new ae(re.a),ce=new te(localStorage),ue={authStore:new ie(oe,ce,"http://localhost/motivation_app/public/api"),axios:re.a,request:oe,baseUrl:"http://localhost/motivation_app/public/api",localStorage:ce},le=Object(r.a)({},ue,{robot:new y});o.a.render(s.a.createElement(v.a,le,s.a.createElement(c.a,null,s.a.createElement(ee,null))),document.getElementById("root"))}},[[205,2,1]]]);
//# sourceMappingURL=main.8901cea7.chunk.js.map